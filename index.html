<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Letter</title>

  <style>

    body{
      margin:0;
      background:#f2aebaef;
      font-family:monospace;
      text-align:center;
      padding-top:80px;
    }

    input{
      padding:10px;
      font-size:16px;
      border-radius:6px;
      border:1px solid #ccc;
    }

    button{
      padding:10px 20px;
      font-size:16px;
      border:none;
      border-radius:6px;
      background:#ff5c8a;
      color:white;
      cursor:pointer;
    }

    #error{ color:red; margin-top:10px; font-size: 24px; }
    #message{ 
      color:#ff5c8a; 
      margin-top:10px; 
      font-weight:bold; 
      font-size:32px; 
    }

    #envelopeArea{ 
      display:none; 
      position:fixed;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
    }

    #envelope{
      width:280px;
      height:180px;
      position:relative;
      cursor:pointer;
      transform-style:preserve-3d;
      perspective:1000px;
    }

    /* LETTER */
    .letter{
      position:absolute;
      left:50%;
      bottom:12px;
      width:300px;
      height:260px;
      transform:translateX(-50%) translateY(0);
      transition:transform .7s ease;
      z-index:60;

      /* VERY IMPORTANT */
      pointer-events:auto;
    }

    .paper{
      background:#fff;
      border-radius:14px;
      padding:20px;
      text-align:left;
      box-shadow:0 8px 16px rgba(0,0,0,.15);
      height:100%;
      box-sizing:border-box;

      overflow-y:auto;

      /* Baskerville */
      font-family: Baskerville, "Baskerville Old Face", "Times New Roman", serif;
      font-size:20px;
      line-height:1.6;
    }

    .envBody{
      position:absolute;
      left:0;
      bottom:0;
      width:280px;
      height:180px;
      background:#f0dade;
      border-radius:16px;
      box-shadow:0 12px 26px rgba(0,0,0,.18);
      overflow:hidden;
      z-index:30;
    }

    .leftFold{
      position:absolute;
      inset:0;
      background:rgba(243,168,187,.55);
      clip-path:polygon(0 0, 0 100%, 50% 55%);
      pointer-events:none;
    }

    .rightFold{
      position:absolute;
      inset:0;
      background:rgba(243,168,187,.55);
      clip-path:polygon(100% 0, 100% 100%, 50% 55%);
      pointer-events:none;
    }

    .bottomFold{
      position:absolute;
      inset:0;
      background:#ee8ea7;
      clip-path:polygon(-2% 100%, 100% 100%, 50% 55%);
      pointer-events:none;
    }

    .topFlap{
      position:absolute;
      left:0;
      top:0;
      width:280px;
      height:100px;
      background:#ff2a3f;
      clip-path:polygon(0 0, 100% 0, 50% 100%);
      transform-origin:50% 0;
      transform:rotateX(0deg);
      transition:transform .6s ease;
      z-index:40;
      border-radius:16px 16px 0 0;
      box-shadow:0 6px 12px rgba(0,0,0,.15);
    }

    #envelope.open .topFlap{
      transform:rotateX(-180deg);
      z-index:10;
    }

    #envelope.open .letter{
      transform:translateX(-50%) translateY(-250px);
      z-index:100;
    }

    .heart{
      position:absolute;
      left:50%;
      top:60%;
      width:28px;
      height:28px;
      background:#c21833;
      transform:translate(-50%, -50%) rotate(45deg);
      z-index:45;
      box-shadow:
        0 6px 10px rgba(0,0,0,.25),
        inset 0 2px 4px rgba(255,255,255,.2);
      transition:opacity .3s ease, transform .3s ease;
    }

    .heart::before,
    .heart::after{
      content:"";
      position:absolute;
      width:28px;
      height:28px;
      background:#c21833;
      border-radius:50%;
    }

    .heart::before{ top:-14px; left:0; }
    .heart::after{ left:-14px; top:0; }

    #envelope.open .heart{
      opacity:0;
      transform:translate(-50%, -50%) rotate(45deg) scale(.6);
    }

    #doneBtn{
      margin-top:18px;
      display:none;
      background:#ff5c8a;
    }

    #bouquet{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background:rgba(0,0,0,.18);
    }

    #bouquet.show{ display:grid; }

    .bouquetCard{
      width:320px;
      border-radius:18px;
      background:#fff;
      padding:18px 18px 14px;
      box-shadow:0 18px 50px rgba(0,0,0,.22);
      animation:pop .35s ease;
    }

    @keyframes pop{
      from{ transform:translateY(12px) scale(.95); opacity:0; }
      to{ transform:translateY(0) scale(1); opacity:1; }
    }

    .bouquetText{
      font-size:18px;
      color:#ff5c8a;
      font-weight:bold;
      margin-bottom:12px;
    }

    .closeBouquet{
      background:#ffd1dc;
      color:#333;
    }

    .bouquetImg{
      width:220px;
      height:auto;
      display:block;
      margin:0 auto 12px auto;
    }

  </style>
</head>

<body>

  <!-- your HTML and JS below stays EXACTLY the same as before -->
  <!-- I didn't touch your letter text or functions -->

</body>
</html>
